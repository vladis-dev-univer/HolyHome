<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#4f46e5">
    <meta name="description" content="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –¥–æ–º–∞—à–∫–∏ HolyHome 2025">
    <title>üìä HolyHome Analytics 2025</title>
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    screens: {
                        'xs': '375px',
                        'sm': '640px',
                        'md': '768px',
                        'lg': '1024px',
                        'xl': '1280px',
                        '2xl': '1536px',
                    }
                }
            }
        }
    </script>
    
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        html { scroll-behavior: smooth; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            -webkit-font-smoothing: antialiased;
            overscroll-behavior-y: contain;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 3px; }
        
        /* Animations */
        @keyframes fadeUp { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        @keyframes pulse { 
            0%, 100% { transform: scale(1); } 
            50% { transform: scale(1.02); } 
        }
        .fade-up { animation: fadeUp 0.4s ease-out forwards; }
        .card-hover { transition: transform 0.2s, box-shadow 0.2s; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 24px -8px rgba(0,0,0,0.15); }
        
        /* Tab styles */
        .tab-btn { 
            transition: all 0.2s; 
            white-space: nowrap;
            -webkit-user-select: none;
            user-select: none;
        }
        .tab-active { 
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); 
            color: white; 
            box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.4);
        }
        
        /* Progress bars */
        .progress-bar { 
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1); 
        }
        
        /* Chart container */
        .chart-container {
            position: relative;
            width: 100%;
            min-height: 200px;
        }
        
        /* Touch friendly */
        @media (hover: none) and (pointer: coarse) {
            .card-hover:hover { transform: none; }
            .tab-btn { min-height: 44px; }
        }
        
        /* Print styles */
        @media print {
            .no-print { display: none !important; }
            body { background: white !important; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-indigo-50/30 to-purple-50/30 min-h-screen">

    <!-- Header -->
    <header class="bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 text-white safe-top">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-10">
            <div class="text-center">
                <h1 class="text-2xl xs:text-3xl sm:text-4xl lg:text-5xl font-extrabold tracking-tight">
                    üè† –î–æ–º–∞—à–∫–∞ HolyHome
                </h1>
                <p class="mt-2 text-sm sm:text-base lg:text-lg text-indigo-100">
                    –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –∑–∞ 2025 –≥–æ–¥
                </p>
                
                <!-- Quick Stats Pills -->
                <div class="flex flex-wrap justify-center gap-2 sm:gap-3 mt-4 sm:mt-6">
                    <span class="bg-white/20 backdrop-blur rounded-full px-3 py-1.5 text-xs sm:text-sm font-medium">
                        üìÖ 50 –≤—Å—Ç—Ä–µ—á
                    </span>
                    <span class="bg-white/20 backdrop-blur rounded-full px-3 py-1.5 text-xs sm:text-sm font-medium">
                        üë• 38 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
                    </span>
                    <span class="bg-white/20 backdrop-blur rounded-full px-3 py-1.5 text-xs sm:text-sm font-medium">
                        üìä 40.8% —Å—Ä.
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-lg border-b border-gray-200/50 no-print">
        <div class="max-w-7xl mx-auto px-2 sm:px-4">
            <div class="flex gap-1 sm:gap-2 py-2 sm:py-3 overflow-x-auto scrollbar-hide">
                <button onclick="showTab('overview')" id="tab-overview" 
                    class="tab-btn tab-active flex-shrink-0 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium">
                    üìä –û–±–∑–æ—Ä
                </button>
                <button onclick="showTab('dynamics')" id="tab-dynamics" 
                    class="tab-btn flex-shrink-0 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium bg-gray-100">
                    üìà –î–∏–Ω–∞–º–∏–∫–∞
                </button>
                <button onclick="showTab('participants')" id="tab-participants" 
                    class="tab-btn flex-shrink-0 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium bg-gray-100">
                    üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏
                </button>
                <button onclick="showTab('analysis')" id="tab-analysis" 
                    class="tab-btn flex-shrink-0 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium bg-gray-100">
                    üîç –ê–Ω–∞–ª–∏–∑
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8">
        
        <!-- OVERVIEW TAB -->
        <section id="content-overview" class="tab-content fade-up">
            <!-- Stats Grid -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6">
                <div class="card-hover bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-blue-500">
                    <p class="text-gray-500 text-xs sm:text-sm">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</p>
                    <p class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mt-1">38</p>
                    <p class="text-xs text-gray-400 mt-0.5 hidden sm:block">—á–µ–ª–æ–≤–µ–∫</p>
                </div>
                <div class="card-hover bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-green-500">
                    <p class="text-gray-500 text-xs sm:text-sm">–í—Å—Ç—Ä–µ—á</p>
                    <p class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mt-1">50</p>
                    <p class="text-xs text-gray-400 mt-0.5 hidden sm:block">–∑–∞ –≥–æ–¥</p>
                </div>
                <div class="card-hover bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-purple-500">
                    <p class="text-gray-500 text-xs sm:text-sm">–°—Ä. –ø—Ä–∏—Ö–æ–¥</p>
                    <p class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mt-1">13.2</p>
                    <p class="text-xs text-gray-400 mt-0.5 hidden sm:block">—á–µ–ª./–≤—Å—Ç—Ä–µ—á–∞</p>
                </div>
                <div class="card-hover bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-amber-500">
                    <p class="text-gray-500 text-xs sm:text-sm">–°—Ä. %</p>
                    <p class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mt-1">40.8%</p>
                    <p class="text-xs text-gray-400 mt-0.5 hidden sm:block">–ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</p>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="grid md:grid-cols-2 gap-4 sm:gap-6 mb-6">
                <!-- Category Distribution -->
                <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                    <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">üìä –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</h3>
                    <div class="chart-container h-48 sm:h-64">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="grid grid-cols-2 gap-2 mt-4 text-xs sm:text-sm">
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-green-500"></span>
                            <span>–û—Ç–ª–∏—á–Ω–∞—è 70%+</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-lime-500"></span>
                            <span>–•–æ—Ä–æ—à–∞—è 50-69%</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-amber-500"></span>
                            <span>–°—Ä–µ–¥–Ω—è—è 30-49%</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 rounded-full bg-red-500"></span>
                            <span>–ù–∏–∑–∫–∞—è &lt;30%</span>
                        </div>
                    </div>
                </div>

                <!-- Membership -->
                <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                    <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">‚õ™ –ß–ª–µ–Ω—ã —Ü–µ—Ä–∫–≤–∏</h3>
                    <div class="chart-container h-48 sm:h-64">
                        <canvas id="membershipChart"></canvas>
                    </div>
                    <div class="flex justify-around mt-4">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">–ß–ª–µ–Ω—ã –¶–ë</p>
                            <p class="text-lg sm:text-xl font-bold text-blue-600">42.5%</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">–ù–µ —á–ª–µ–Ω—ã</p>
                            <p class="text-lg sm:text-xl font-bold text-purple-600">38.7%</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quarterly -->
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">üìÖ –ü–æ –∫–≤–∞—Ä—Ç–∞–ª–∞–º</h3>
                <div class="chart-container h-48 sm:h-64">
                    <canvas id="quarterChart"></canvas>
                </div>
            </div>
        </section>

        <!-- DYNAMICS TAB -->
        <section id="content-dynamics" class="tab-content hidden">
            <!-- Main Chart -->
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 mb-6">
                <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">üìà –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –ø–æ –¥–∞—Ç–∞–º</h3>
                <div class="chart-container h-56 sm:h-72 lg:h-80">
                    <canvas id="dynamicsChart"></canvas>
                </div>
            </div>

            <!-- Monthly -->
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 mb-6">
                <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">üìä –ü–æ –º–µ—Å—è—Ü–∞–º</h3>
                <div class="chart-container h-48 sm:h-64">
                    <canvas id="monthlyChart"></canvas>
                </div>
            </div>

            <!-- Highlights -->
            <div class="grid sm:grid-cols-3 gap-3 sm:gap-4">
                <div class="bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white">
                    <p class="text-green-100 text-xs sm:text-sm">üîù –ú–∞–∫—Å–∏–º—É–º</p>
                    <p class="text-3xl sm:text-4xl font-bold mt-1">25</p>
                    <p class="text-green-100 text-xs sm:text-sm mt-1">19 –æ–∫—Ç—è–±—Ä—è</p>
                </div>
                <div class="bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white">
                    <p class="text-amber-100 text-xs sm:text-sm">üìâ –ú–∏–Ω–∏–º—É–º</p>
                    <p class="text-3xl sm:text-4xl font-bold mt-1">1</p>
                    <p class="text-amber-100 text-xs sm:text-sm mt-1">20 –∏—é–ª—è</p>
                </div>
                <div class="bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white">
                    <p class="text-blue-100 text-xs sm:text-sm">üìà –õ—É—á—à–∏–π –º–µ—Å—è—Ü</p>
                    <p class="text-2xl sm:text-3xl font-bold mt-1">–û–∫—Ç—è–±—Ä—å</p>
                    <p class="text-blue-100 text-xs sm:text-sm mt-1">—Å—Ä. 19.5 —á–µ–ª.</p>
                </div>
            </div>
        </section>

        <!-- PARTICIPANTS TAB -->
        <section id="content-participants" class="tab-content hidden">
            <!-- Top Chart -->
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6 mb-6">
                <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">üèÜ –†–µ–π—Ç–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
                <div class="chart-container h-72 sm:h-96 lg:h-[28rem]">
                    <canvas id="participantsChart"></canvas>
                </div>
            </div>

            <!-- Leaders & Attention -->
            <div class="grid lg:grid-cols-2 gap-4 sm:gap-6">
                <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                    <h3 class="text-sm sm:text-base font-semibold text-green-600 mb-4">üåü –õ–∏–¥–µ—Ä—ã (70%+)</h3>
                    <div class="space-y-2" id="leaders-list"></div>
                </div>
                <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                    <h3 class="text-sm sm:text-base font-semibold text-red-600 mb-4">‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ (&lt;20%)</h3>
                    <div class="space-y-2" id="attention-list"></div>
                </div>
            </div>
        </section>

        <!-- ANALYSIS TAB -->
        <section id="content-analysis" class="tab-content hidden">
            <div class="grid lg:grid-cols-2 gap-4 sm:gap-6 mb-6">
                <!-- Pyramid -->
                <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                    <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-6">üìä –ü–∏—Ä–∞–º–∏–¥–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-xs sm:text-sm mb-1">
                                <span class="text-gray-600">–û—Ç–ª–∏—á–Ω–∞—è (70%+)</span>
                                <span class="font-bold text-green-600">7 —á–µ–ª.</span>
                            </div>
                            <div class="h-6 sm:h-8 bg-gray-100 rounded-full overflow-hidden">
                                <div class="progress-bar h-full bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-end pr-2 sm:pr-3" style="width: 18%">
                                    <span class="text-white text-xs font-bold">18%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs sm:text-sm mb-1">
                                <span class="text-gray-600">–•–æ—Ä–æ—à–∞—è (50-69%)</span>
                                <span class="font-bold text-lime-600">7 —á–µ–ª.</span>
                            </div>
                            <div class="h-6 sm:h-8 bg-gray-100 rounded-full overflow-hidden">
                                <div class="progress-bar h-full bg-gradient-to-r from-lime-400 to-lime-500 rounded-full flex items-center justify-end pr-2 sm:pr-3" style="width: 18%">
                                    <span class="text-white text-xs font-bold">18%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs sm:text-sm mb-1">
                                <span class="text-gray-600">–°—Ä–µ–¥–Ω—è—è (30-49%)</span>
                                <span class="font-bold text-amber-600">7 —á–µ–ª.</span>
                            </div>
                            <div class="h-6 sm:h-8 bg-gray-100 rounded-full overflow-hidden">
                                <div class="progress-bar h-full bg-gradient-to-r from-amber-400 to-amber-500 rounded-full flex items-center justify-end pr-2 sm:pr-3" style="width: 18%">
                                    <span class="text-white text-xs font-bold">18%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs sm:text-sm mb-1">
                                <span class="text-gray-600">–ù–∏–∑–∫–∞—è (&lt;30%)</span>
                                <span class="font-bold text-red-600">17 —á–µ–ª.</span>
                            </div>
                            <div class="h-6 sm:h-8 bg-gray-100 rounded-full overflow-hidden">
                                <div class="progress-bar h-full bg-gradient-to-r from-red-400 to-red-500 rounded-full flex items-center justify-end pr-2 sm:pr-3" style="width: 45%">
                                    <span class="text-white text-xs font-bold">45%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Key Insights -->
                <div class="bg-white rounded-xl sm:rounded-2xl shadow-sm p-4 sm:p-6">
                    <h3 class="text-sm sm:text-base font-semibold text-gray-700 mb-4">üìà –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</h3>
                    <div class="space-y-3">
                        <div class="p-3 sm:p-4 bg-blue-50 rounded-lg sm:rounded-xl border-l-4 border-blue-500">
                            <p class="font-semibold text-blue-800 text-sm">–û–±—â–∞—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</p>
                            <p class="text-blue-600 text-xs sm:text-sm mt-1">–°—Ä–µ–¥–Ω–∏–π % ‚Äî 40.8%. –ù—É–∂–Ω–æ –ø–æ–≤—ã—à–∞—Ç—å –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å.</p>
                        </div>
                        <div class="p-3 sm:p-4 bg-green-50 rounded-lg sm:rounded-xl border-l-4 border-green-500">
                            <p class="font-semibold text-green-800 text-sm">–õ–∏–¥–µ—Ä—ã</p>
                            <p class="text-green-600 text-xs sm:text-sm mt-1">7 —á–µ–ª–æ–≤–µ–∫ (18%) —Å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é 70%+. –õ–∏–¥–µ—Ä ‚Äî –°–∞–ª—è–≤–∞ –ê–Ω—Ç–æ–Ω (94%).</p>
                        </div>
                        <div class="p-3 sm:p-4 bg-amber-50 rounded-lg sm:rounded-xl border-l-4 border-amber-500">
                            <p class="font-semibold text-amber-800 text-sm">–°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å</p>
                            <p class="text-amber-600 text-xs sm:text-sm mt-1">–õ–µ—Ç–Ω–∏–π —Å–ø–∞–¥ (–∏—é–ª—å). –ü–∏–∫ ‚Äî –æ–∫—Ç—è–±—Ä—å-–Ω–æ—è–±—Ä—å.</p>
                        </div>
                        <div class="p-3 sm:p-4 bg-red-50 rounded-lg sm:rounded-xl border-l-4 border-red-500">
                            <p class="font-semibold text-red-800 text-sm">–ó–æ–Ω–∞ —Ä–∏—Å–∫–∞</p>
                            <p class="text-red-600 text-xs sm:text-sm mt-1">17 —á–µ–ª–æ–≤–µ–∫ (45%) —Å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é –Ω–∏–∂–µ 30%.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recommendations -->
            <div class="bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 rounded-xl sm:rounded-2xl shadow-lg p-5 sm:p-8 text-white">
                <h3 class="text-lg sm:text-xl lg:text-2xl font-bold mb-6">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
                <div class="grid sm:grid-cols-2 gap-4 sm:gap-6">
                    <div class="flex gap-3 sm:gap-4">
                        <span class="text-2xl sm:text-3xl">1Ô∏è‚É£</span>
                        <div>
                            <p class="font-semibold">–†–∞–±–æ—Ç–∞ —Å –Ω–∏–∑–∫–æ–π –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é</p>
                            <p class="text-indigo-100 text-xs sm:text-sm mt-1">–õ–∏—á–Ω—ã–µ –±–µ—Å–µ–¥—ã —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ &lt;20%</p>
                        </div>
                    </div>
                    <div class="flex gap-3 sm:gap-4">
                        <span class="text-2xl sm:text-3xl">2Ô∏è‚É£</span>
                        <div>
                            <p class="font-semibold">–õ–µ—Ç–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p>
                            <p class="text-indigo-100 text-xs sm:text-sm mt-1">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –Ω–∞ –ª–µ—Ç–æ</p>
                        </div>
                    </div>
                    <div class="flex gap-3 sm:gap-4">
                        <span class="text-2xl sm:text-3xl">3Ô∏è‚É£</span>
                        <div>
                            <p class="font-semibold">–ü–æ–æ—â—Ä–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–æ–≤</p>
                            <p class="text-indigo-100 text-xs sm:text-sm mt-1">–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º</p>
                        </div>
                    </div>
                    <div class="flex gap-3 sm:gap-4">
                        <span class="text-2xl sm:text-3xl">4Ô∏è‚É£</span>
                        <div>
                            <p class="font-semibold">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</p>
                            <p class="text-indigo-100 text-xs sm:text-sm mt-1">–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∑–∞ –¥–µ–Ω—å</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-6 mt-8 no-print">
        <div class="max-w-7xl mx-auto px-4 text-center text-xs sm:text-sm">
            <p>üìä HolyHome Analytics 2025 | –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è</p>
        </div>
    </footer>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <script>
        // Data
        const participants = [
            { name: '–°–∞–ª—è–≤–∞ –ê.', percent: 94 },
            { name: '–õ–∞–π–∫–æ–≤ –í.', percent: 79.59 },
            { name: '–®–∫–ª—è—Ä–µ–≤—Å–∫–∏–π –ï.', percent: 78 },
            { name: '–õ–∞–π–∫–æ–≤–∞ –î.', percent: 78 },
            { name: '–ñ—É–∫–æ–≤–∏—á –ê.', percent: 76 },
            { name: '–î–∞–Ω–∏–ª—å—á–µ–Ω–∫–æ –¢.', percent: 70 },
            { name: '–Ø–∫–æ–≤–ª–µ–≤–∞ –°.', percent: 66 },
            { name: '–ê–Ω–∂ –ú–±–∞–¥–∏', percent: 57.78 },
            { name: '–ó–≤–µ—Ä–∫–æ –ú.', percent: 54.55 },
            { name: '–ö–æ–ª—è–¥–∏—á –î.', percent: 54 },
            { name: '–ë–µ–π–Ω—è –ó.', percent: 54 },
            { name: '–ü–∞–Ω—Ç—é—Ö–æ–≤–∞ –î.', percent: 54.55 },
            { name: '–®–∞–º–∏—á –ú.', percent: 50 },
            { name: '–®—É–¥–µ–ª—å—Å–∫–∞—è –ê.', percent: 50 },
            { name: '–ö—É—Ä–≥–∞–Ω –ö.', percent: 47.83 },
            { name: '–ì—Ä–∏—à–∞–ª–µ–≤–∏—á –ú.', percent: 45.45 },
            { name: '–ì—É–¥–µ–ª—å –î.', percent: 45.45 },
            { name: '–õ–∞–π–∫–æ–≤–∞ –ú.', percent: 44 },
            { name: '–ö–æ—Ä–Ω–µ–π—á—É–∫ –ê.', percent: 41.3 },
            { name: '–ò–≤√°–Ω–æ–≤ –Æ.', percent: 38 },
            { name: '–ú—É–¥—Ä–∞—è –†.', percent: 38 },
            { name: '–ì–æ–Ω—á–∞—Ä–æ–Ω–æ–∫ –ï.', percent: 33.33 },
            { name: '–ë–∏—Å—é–∫–æ–≤ –¢.', percent: 26 },
            { name: '–ö–æ–π–ø—ã—à –Ø.', percent: 26 },
            { name: '–°—Ç–∞—Å–µ–≤–∏—á –í.', percent: 24 },
            { name: '–õ–µ—Å–∫–æ–≤–µ—Ü –û.', percent: 22 },
            { name: '–õ–µ–æ–Ω–æ–≤–∏—á –ú.', percent: 20 },
            { name: '–®–∏—Ä–∫–æ –ê.', percent: 20 },
            { name: '–ê–Ω–≥–∞–ª–µ–≤–∏—á –ò.', percent: 13.64 },
            { name: '–õ–µ—Å–∫–æ–≤–µ—Ü –î.', percent: 12 },
            { name: '–ë—É–¥–Ω–∏–∫ –í.', percent: 9.09 },
            { name: '–ú–∞—Ä—á—É–∫ –ö.', percent: 8 },
            { name: '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –î.', percent: 8 },
            { name: '–ü—Ä–æ–∫–æ–ø–æ–≤–∏—á –í.', percent: 4 },
            { name: '–ë–æ–Ω–¥–∞—Ä–∏–∫ –î.', percent: 4 },
            { name: '–°–æ–ª–æ–≥—É–± –í.', percent: 2 },
            { name: '–®–∞–º–∏—á –í.', percent: 0 }
        ];

        const attendanceByDate = [
            { date: '05.01', total: 9, members: 7 }, { date: '12.01', total: 14, members: 12 },
            { date: '19.01', total: 10, members: 9 }, { date: '26.01', total: 12, members: 9 },
            { date: '02.02', total: 7, members: 5 }, { date: '09.02', total: 12, members: 8 },
            { date: '16.02', total: 17, members: 12 }, { date: '23.02', total: 16, members: 13 },
            { date: '02.03', total: 10, members: 6 }, { date: '09.03', total: 17, members: 13 },
            { date: '16.03', total: 8, members: 5 }, { date: '23.03', total: 12, members: 6 },
            { date: '06.04', total: 14, members: 8 }, { date: '13.04', total: 11, members: 8 },
            { date: '20.04', total: 16, members: 13 }, { date: '27.04', total: 10, members: 8 },
            { date: '04.05', total: 6, members: 3 }, { date: '11.05', total: 15, members: 9 },
            { date: '18.05', total: 15, members: 11 }, { date: '25.05', total: 15, members: 9 },
            { date: '01.06', total: 14, members: 10 }, { date: '08.06', total: 11, members: 7 },
            { date: '15.06', total: 10, members: 5 }, { date: '22.06', total: 21, members: 16 },
            { date: '29.06', total: 8, members: 6 }, { date: '06.07', total: 7, members: 5 },
            { date: '13.07', total: 7, members: 4 }, { date: '20.07', total: 1, members: 1 },
            { date: '27.07', total: 11, members: 7 }, { date: '03.08', total: 11, members: 8 },
            { date: '10.08', total: 11, members: 8 }, { date: '17.08', total: 10, members: 8 },
            { date: '24.08', total: 11, members: 7 }, { date: '31.08', total: 15, members: 9 },
            { date: '07.09', total: 20, members: 12 }, { date: '14.09', total: 11, members: 9 },
            { date: '21.09', total: 16, members: 10 }, { date: '28.09', total: 23, members: 14 },
            { date: '05.10', total: 17, members: 11 }, { date: '12.10', total: 20, members: 14 },
            { date: '19.10', total: 25, members: 19 }, { date: '26.10', total: 16, members: 11 },
            { date: '02.11', total: 18, members: 11 }, { date: '09.11', total: 11, members: 9 },
            { date: '16.11', total: 21, members: 15 }, { date: '23.11', total: 11, members: 8 },
            { date: '30.11', total: 23, members: 13 }, { date: '07.12', total: 20, members: 12 },
            { date: '14.12', total: 13, members: 8 }
        ];

        // Tab switching
        function showTab(name) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => {
                el.classList.remove('tab-active');
                el.classList.add('bg-gray-100');
            });
            const content = document.getElementById('content-' + name);
            const tab = document.getElementById('tab-' + name);
            content.classList.remove('hidden');
            content.classList.add('fade-up');
            tab.classList.add('tab-active');
            tab.classList.remove('bg-gray-100');
        }

        // Fill lists
        const leadersList = document.getElementById('leaders-list');
        const attentionList = document.getElementById('attention-list');
        
        participants.filter(p => p.percent >= 70).forEach((p, i) => {
            leadersList.innerHTML += `
                <div class="flex justify-between items-center p-2 sm:p-3 bg-green-50 rounded-lg">
                    <span class="font-medium text-sm">${i+1}. ${p.name}</span>
                    <span class="bg-green-500 text-white px-2 py-0.5 rounded-full text-xs font-bold">${p.percent}%</span>
                </div>`;
        });
        
        participants.filter(p => p.percent < 20).forEach(p => {
            attentionList.innerHTML += `
                <div class="flex justify-between items-center p-2 sm:p-3 bg-red-50 rounded-lg">
                    <span class="font-medium text-sm">${p.name}</span>
                    <span class="bg-red-500 text-white px-2 py-0.5 rounded-full text-xs font-bold">${p.percent}%</span>
                </div>`;
        });

        // Chart defaults
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
        Chart.defaults.responsive = true;
        Chart.defaults.maintainAspectRatio = false;

        // Category Chart
        new Chart(document.getElementById('categoryChart'), {
            type: 'doughnut',
            data: {
                labels: ['70%+', '50-69%', '30-49%', '<30%'],
                datasets: [{
                    data: [7, 7, 7, 17],
                    backgroundColor: ['#22c55e', '#84cc16', '#f59e0b', '#ef4444'],
                    borderWidth: 0,
                    borderRadius: 4
                }]
            },
            options: {
                cutout: '60%',
                plugins: { legend: { display: false } }
            }
        });

        // Membership Chart
        new Chart(document.getElementById('membershipChart'), {
            type: 'doughnut',
            data: {
                labels: ['–ß–ª–µ–Ω—ã –¶–ë', '–ù–µ —á–ª–µ–Ω—ã'],
                datasets: [{
                    data: [21, 16],
                    backgroundColor: ['#3b82f6', '#8b5cf6'],
                    borderWidth: 0,
                    borderRadius: 4
                }]
            },
            options: {
                cutout: '60%',
                plugins: { legend: { display: false } }
            }
        });

        // Quarter Chart
        new Chart(document.getElementById('quarterChart'), {
            type: 'bar',
            data: {
                labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                datasets: [{
                    label: '–°—Ä. –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å',
                    data: [11.4, 12.2, 11.6, 17.7],
                    backgroundColor: '#6366f1',
                    borderRadius: 8
                }]
            },
            options: {
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, grid: { display: false } }, x: { grid: { display: false } } }
            }
        });

        // Dynamics Chart
        new Chart(document.getElementById('dynamicsChart'), {
            type: 'line',
            data: {
                labels: attendanceByDate.map(d => d.date),
                datasets: [{
                    label: '–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å',
                    data: attendanceByDate.map(d => d.total),
                    borderColor: '#6366f1',
                    backgroundColor: 'rgba(99, 102, 241, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0,
                    pointHitRadius: 10
                }]
            },
            options: {
                plugins: { legend: { display: false } },
                scales: { 
                    y: { beginAtZero: true, grid: { color: '#f1f5f9' } }, 
                    x: { grid: { display: false }, ticks: { maxTicksLimit: 10 } } 
                }
            }
        });

        // Monthly Chart
        new Chart(document.getElementById('monthlyChart'), {
            type: 'bar',
            data: {
                labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω', '–ò—é–ª', '–ê–≤–≥', '–°–µ–Ω', '–û–∫—Ç', '–ù–æ—è', '–î–µ–∫'],
                datasets: [{
                    label: '–°—Ä–µ–¥–Ω—è—è',
                    data: [11.3, 13.0, 11.8, 12.8, 12.2, 12.8, 6.5, 11.5, 17.5, 19.5, 16.8, 16.5],
                    backgroundColor: '#6366f1',
                    borderRadius: 6
                }]
            },
            options: {
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, grid: { display: false } }, x: { grid: { display: false } } }
            }
        });

        // Participants Chart
        const top15 = participants.slice(0, 15);
        new Chart(document.getElementById('participantsChart'), {
            type: 'bar',
            data: {
                labels: top15.map(p => p.name),
                datasets: [{
                    data: top15.map(p => p.percent),
                    backgroundColor: top15.map(p => 
                        p.percent >= 70 ? '#22c55e' : p.percent >= 50 ? '#84cc16' : p.percent >= 30 ? '#f59e0b' : '#ef4444'
                    ),
                    borderRadius: 6
                }]
            },
            options: {
                indexAxis: 'y',
                plugins: { legend: { display: false } },
                scales: { x: { beginAtZero: true, max: 100, grid: { display: false } }, y: { grid: { display: false } } }
            }
        });
    </script>
</body>
</html>
